(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,n){e.exports=n(54)},23:function(e,t,n){},26:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},27:function(e,t,n){},48:function(e,t,n){},50:function(e,t,n){},52:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),o=n(16),s=n.n(o),i=(n(23),n(3)),r=n(4),c=n(6),u=n(5),p=n(7),d=(n(26),n(27),n(2)),m=n(9),f=n.n(m),g=(n(48),n(50),{celestial:{projection:"airy",form:!0,width:window.innerWidth,center:[-65,0],background:{fill:"#160048",stroke:"#160048",opacity:1,width:1},datapath:"./data/",adaptable:!0,stars:{colors:!0,names:!1,style:{fill:"#FEFFFF",opacity:1},limit:6,size:5,namestyle:{fill:"#ddddbb",font:"11px 'Open Sans', sans-serif",align:"left",baseline:"top"},propernamestyle:{fill:"#ddddbb",font:"11px 'Open Sans', sans-serif",align:"right",baseline:"bottom"}},dsos:{show:!1},mw:{style:{fill:"#2C0089",opacity:.1}},constellations:{show:!1,linestyle:{stroke:"transparent",width:0,opacity:0}},lines:{graticule:{show:!0,stroke:"#cccccc",width:.6,opacity:.15},equatorial:{show:!0,stroke:"#cccccc",width:.6,opacity:.4},ecliptic:{show:!1}},location:!0,planets:{show:!0,which:["sol","mer","ven","ter","lun","mar","jup","sat","ura","nep"],style:{fill:"#00ccff",font:"bold 22px 'Lucida Sans Unicode', Consolas, sans-serif",align:"center",baseline:"middle"},symbols:{sol:{symbol:"\u2609",fill:"#ffff00"},mer:{symbol:"\u263f",fill:"#cccccc"},ven:{symbol:"\u2640",fill:"#eeeecc"},ter:{symbol:"\u2295",fill:"#00ffff"},lun:{symbol:"\u25cf",fill:"#ffffff"},mar:{symbol:"\u2642",fill:"#ff9999"},cer:{symbol:"\u26b3",fill:"#cccccc"},ves:{symbol:"\u26b6",fill:"#cccccc"},jup:{symbol:"\u2643",fill:"#ff9966"},sat:{symbol:"\u2644",fill:"#ffcc66"},ura:{symbol:"\u2645",fill:"#66ccff"},nep:{symbol:"\u2646",fill:"#6666ff"},plu:{symbol:"\u2647",fill:"#aaaaaa"},eri:{symbol:"\u25cf",fill:"#eeeeee"}}}},lineStyle:{stroke:"#FEFFFF",opacity:".5",fill:"transparent",width:1},textStyle:{fill:"#fafafa",font:"bold 15px 'Open Sans', sans-serif",align:"center",baseline:"middle"}}),w={paintConstellations:function(e,t,n){return f.a.get("".concat("https://tenku.herokuapp.com","/api/culture/")+e).then(function(a){var l=a.data.culture.constellations,o=[],s={type:"FeatureCollection",features:l.map(function(e){return o.push({name:e.name,id:e.id,center:e.points[0][0]}),{type:"Feature",id:e.name,properties:{n:e.name,loc:e.points[0][0]},geometry:{type:"MultiLineString",coordinates:e.points}}})};return window.Celestial.clear(),window.Celestial.redraw&&window.Celestial.redraw(),window.Celestial.add({type:"line",name:e,callback:function(e,n){if(e)return console.warn(e);w.addConstellationsD3(s,t)},redraw:function(){var e;window.Celestial.container.selectAll(".ast").each(function(t){window.Celestial.setStyle(n.lineStyle),window.Celestial.map(t),window.Celestial.context.stroke(),window.Celestial.clip(t.properties.loc)&&(e=window.Celestial.mapProjection(t.properties.loc),window.Celestial.setTextStyle(n.textStyle),window.Celestial.context.fillText(t.properties.n,e[0],e[1]))})}}),window.Celestial.container&&w.addConstellationsD3(s,t),o})},addConstellationsD3:function(e,t){var n=window.Celestial.getData(e,t.config.transform);document.querySelectorAll("path.ast").forEach(function(e){return e.parentNode.removeChild(e)}),window.Celestial.container.selectAll(".asterisms").data(n.features).enter().append("path").attr("class","ast"),window.Celestial.redraw()}},h=w,C=(n(52),{toggleClass:function(e,t){if(e.classList)e.classList.toggle(t);else{var n=e.className.split(" "),a=n.indexOf(t);a>=0?n.splice(a,1):n.push(t),e.className=n.join(" ")}return C.hasClass(e,t)},hasClass:function(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)},removeClass:function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}}),b=C,v=function(e){function t(){var e;Object(i.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).toggleMenu=function(e){var t=b.toggleClass(document.querySelector("#PlanetariumControls"),"visible");e.target.innerHTML=t?"Close Controls":"Open Controls"},e.toggleConstellations=function(e,t){var n=b.toggleClass(e.target,"on");e.target.innerHTML=n?"Hide Constellations":"Show Constellations",t(n)},e.toggleStarsNames=function(t,n,a){console.log(a);var l=Object(d.a)({},e.state.stars);console.log(l);var o=b.toggleClass(t.target,"on");switch(l[a]=o,l.desig&&(l.names=!0,document.querySelector("#designations").innerHTML="Hide Designations"),l.names||(l.desig=!1,document.querySelector("#all-designations").innerHTML="Show All Designations"),a){case"proper":t.target.innerHTML=o?"Hide Proper Names":"Show Proper Names";break;case"names":t.target.innerHTML=o?"Hide Designations":"Show Designations";break;case"desig":t.target.innerHTML=o?"Hide All Designations":"Show All Designations"}e.setState(Object(d.a)({},e.state,{stars:l}),function(){n(o,e.state.stars)})};var n=new Date;return e.state={stars:{proper:!1,names:!1,design:!1},dtFormat:window.d3.time.format("%Y-%m-%d %H:%M:%S"),zenith:[0,0],geopos:[0,0],date:n,zone:n.getTimezoneOffset()},e}return Object(p.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=[];return this.props.constellationsOptions&&(t=this.props.constellationsOptions.map(function(e){return l.a.createElement("option",{value:e.center},e.name)})).unshift(l.a.createElement("option",{value:""},"Select Constellation")),l.a.createElement("div",{id:"PlanetariumControls"},l.a.createElement("button",{class:"toggleMenu",onClick:this.toggleMenu},"Open Controls"),l.a.createElement("div",{class:"menu"},l.a.createElement("section",null,l.a.createElement("p",null,"Constellations"),l.a.createElement("select",{name:"culture",id:"culture",onChange:this.props.changeCulture},l.a.createElement("option",{value:"western"},"Western"),l.a.createElement("option",{value:"chinese"},"Chinese"),l.a.createElement("option",{value:"aztec"},"Aztec"),l.a.createElement("option",{value:"romanian"},"Romanian"),l.a.createElement("option",{value:"egyptian"},"Egyptian")),l.a.createElement("select",{name:"constellation",id:"constellation",onChange:this.props.navigateToConstellation},t),l.a.createElement("button",{className:"on",onClick:function(t){return e.toggleConstellations(t,e.props.toggleConstellations)}},"Hide Constellations")),l.a.createElement("section",null,l.a.createElement("p",null,"Stars"),l.a.createElement("button",{onClick:function(t){return e.toggleStarsNames(t,e.props.toggleStars,"proper")}},"Show Proper Names"),l.a.createElement("button",{id:"designations",onClick:function(t){return e.toggleStarsNames(t,e.props.toggleStars,"names")}},"Show Designations"),l.a.createElement("span",null,"Bayer, Flamsteed, Variable star, Gliese"),l.a.createElement("button",{id:"all-designations",onClick:function(t){return e.toggleStarsNames(t,e.props.toggleStars,"desig")}},"Show All Designations"),l.a.createElement("span",null,"Including Draper and Hipparcos")),l.a.createElement("section",null,l.a.createElement("p",null,"Date and Time"),l.a.createElement("div",{id:"celestial-form"}))))}}]),t}(a.Component),y=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).changeCulture=function(t){e.setState(Object(d.a)({},e.state,{activeCulture:t.target.value})),window.Celestial.clear(),window.Celestial.redraw(),h.paintConstellations(t.target.value,e.state,g).then(function(t){e.setState(Object(d.a)({},e.state,{constellationsOptions:t}))})},e.toggleConstellations=function(t){t?h.paintConstellations(e.state.activeCulture,e.state,g):(document.querySelectorAll("path.ast").forEach(function(e){return e.parentNode.removeChild(e)}),window.Celestial.redraw())},e.toggleStars=function(t,n){console.log(n);var a=n.proper,l=n.names,o=n.desig;console.log(a,l,o);var s=Object(d.a)({},e.state.config);s.stars.proper=a,s.stars.names=l,s.stars.desig=o,console.log(s),e.setState(Object(d.a)({},e.state,{config:s}),function(){console.log(e.state),window.Celestial.apply(e.state.config)})},e.navigateToConstellation=function(t){if(t.target.value.length){var n=t.target.value.split(",");n[0]=+n[0],n[1]=+n[1],n[2]=0;var a=[],l=Object(d.a)({},e.state.config);l.center=n,e.state.config.transform="arya",e.setState(Object(d.a)({},e.state,{config:l}),function(){var t=window.Celestial.zoomBy();1!==t&&a.push({param:"zoom",value:1.55/t,duration:0}),a.push({param:"center",value:e.state.config.center,duration:0});a.push({param:"zoom",value:2,duration:0}),window.Celestial.animate(a,!1)})}},e.state={loaded:!1,showConstellations:!0,config:g.celestial,activeCulture:"western"},e}return Object(p.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;h.paintConstellations("western",this.state,g).then(function(t){e.setState(Object(d.a)({},e.state,{constellationsOptions:t})),window.Celestial.display(e.state.config),window.Celestial.zoomBy(1.5)})}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{id:"Planetarium",style:{overflow:"hidden"}},l.a.createElement("div",{id:"celestial-map"})),l.a.createElement(v,{toggleConstellations:this.toggleConstellations,toggleStars:this.toggleStars,changeCulture:this.changeCulture,navigateToConstellation:this.navigateToConstellation,constellationsOptions:this.state.constellationsOptions}))}}]),t}(a.Component),S=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(y,null))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(l.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[17,2,1]]]);
//# sourceMappingURL=main.24e65947.chunk.js.map